{"remainingRequest":"/home/ozcan/software/MEVN-STACK/KablosuzKedi/31-BookLike-app-with-compositionAPI/client/node_modules/babel-loader/lib/index.js!/home/ozcan/software/MEVN-STACK/KablosuzKedi/31-BookLike-app-with-compositionAPI/client/node_modules/eslint-loader/index.js??ref--13-0!/home/ozcan/software/MEVN-STACK/KablosuzKedi/31-BookLike-app-with-compositionAPI/client/src/composables/BookmarkListItem.js","dependencies":[{"path":"/home/ozcan/software/MEVN-STACK/KablosuzKedi/31-BookLike-app-with-compositionAPI/client/src/composables/BookmarkListItem.js","mtime":1719060532934},{"path":"/home/ozcan/software/MEVN-STACK/KablosuzKedi/31-BookLike-app-with-compositionAPI/client/node_modules/cache-loader/dist/cjs.js","mtime":1719011586695},{"path":"/home/ozcan/software/MEVN-STACK/KablosuzKedi/31-BookLike-app-with-compositionAPI/client/node_modules/babel-loader/lib/index.js","mtime":1719011588115},{"path":"/home/ozcan/software/MEVN-STACK/KablosuzKedi/31-BookLike-app-with-compositionAPI/client/node_modules/eslint-loader/index.js","mtime":1719011586827}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9vemNhbi9zb2Z0d2FyZS9NRVZOLVNUQUNLL0thYmxvc3V6S2VkaS8zMS1Cb29rTGlrZS1hcHAtd2l0aC1jb21wb3NpdGlvbkFQSS9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgeyBpbmplY3QsIGNvbXB1dGVkIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGl0ZW0pIHsKICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwogIHZhciBhcHBBeGlvcyA9IGluamVjdCgiYXBwQXhpb3MiKTsKCiAgdmFyIGxpa2VJdGVtID0gZnVuY3Rpb24gbGlrZUl0ZW0oKSB7CiAgICBhcHBBeGlvcyh7CiAgICAgIHVybDogYWxyZWFkeUxpa2VkLnZhbHVlID8gIi91c2VyX2xpa2VzLyIuY29uY2F0KGxpa2VkSXRlbS52YWx1ZS5pZCkgOiAiL3VzZXJfbGlrZXMiLAogICAgICBtZXRob2Q6IGFscmVhZHlMaWtlZC52YWx1ZSA/ICJERUxFVEUiIDogIlBPU1QiLAogICAgICBkYXRhOiB7CiAgICAgICAgdXNlcklkOiBfZ2V0Q3VycmVudFVzZXIudmFsdWUuaWQsCiAgICAgICAgYm9va21hcmtJZDogaXRlbS5pZAogICAgICB9CiAgICB9KS50aGVuKGZ1bmN0aW9uICh1c2VyX2xpa2VfcmVzcG9uc2UpIHsKICAgICAgdmFyIGJvb2ttYXJrcyA9IF90b0NvbnN1bWFibGVBcnJheShfdXNlckxpa2VzLnZhbHVlKTsKCiAgICAgIGlmIChhbHJlYWR5TGlrZWQudmFsdWUpIHsKICAgICAgICBib29rbWFya3MgPSBib29rbWFya3MuZmlsdGVyKGZ1bmN0aW9uIChiKSB7CiAgICAgICAgICByZXR1cm4gYi5pZCAhPT0gbGlrZWRJdGVtLnZhbHVlLmlkOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGJvb2ttYXJrcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYm9va21hcmtzKSwgW3VzZXJfbGlrZV9yZXNwb25zZS5kYXRhXSk7CiAgICAgIH0KCiAgICAgIHN0b3JlLmNvbW1pdCgic2V0TGlrZXMiLCBib29rbWFya3MpOwogICAgfSk7CiAgfTsKCiAgdmFyIGJvb2ttYXJrSXRlbSA9IGZ1bmN0aW9uIGJvb2ttYXJrSXRlbSgpIHsKICAgIGFwcEF4aW9zKHsKICAgICAgdXJsOiBhbHJlYWR5Qm9va21hcmtlZC52YWx1ZSA/ICIvdXNlcl9ib29rbWFya3MvIi5jb25jYXQoYm9va21hcmtlZEl0ZW0udmFsdWUuaWQpIDogIi91c2VyX2Jvb2ttYXJrcyIsCiAgICAgIG1ldGhvZDogYWxyZWFkeUJvb2ttYXJrZWQudmFsdWUgPyAiREVMRVRFIiA6ICJQT1NUIiwKICAgICAgZGF0YTogewogICAgICAgIHVzZXJJZDogX2dldEN1cnJlbnRVc2VyLnZhbHVlLmlkLAogICAgICAgIGJvb2ttYXJrSWQ6IGl0ZW0uaWQKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAodXNlcl9ib29rbWFya19yZXNwb25zZSkgewogICAgICB2YXIgYm9va21hcmtzID0gX3RvQ29uc3VtYWJsZUFycmF5KF91c2VyQm9va21hcmtzLnZhbHVlKTsKCiAgICAgIGlmIChhbHJlYWR5Qm9va21hcmtlZC52YWx1ZSkgewogICAgICAgIGJvb2ttYXJrcyA9IGJvb2ttYXJrcy5maWx0ZXIoZnVuY3Rpb24gKGIpIHsKICAgICAgICAgIHJldHVybiBiLmlkICE9PSBib29rbWFya2VkSXRlbS52YWx1ZS5pZDsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBib29rbWFya3MgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGJvb2ttYXJrcyksIFt1c2VyX2Jvb2ttYXJrX3Jlc3BvbnNlLmRhdGFdKTsKICAgICAgfQoKICAgICAgc3RvcmUuY29tbWl0KCJzZXRCb29rbWFya3MiLCBib29rbWFya3MpOwogICAgfSk7CiAgfTsKCiAgdmFyIGNhdGVnb3J5TmFtZSA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgIHZhciBfaXRlbSRjYXRlZ29yeTsKCiAgICByZXR1cm4gKGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9pdGVtJGNhdGVnb3J5ID0gaXRlbS5jYXRlZ29yeSkgPT09IG51bGwgfHwgX2l0ZW0kY2F0ZWdvcnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJGNhdGVnb3J5Lm5hbWUpIHx8ICItIjsKICB9KTsKICB2YXIgdXNlck5hbWUgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2l0ZW0kdXNlcjsKCiAgICByZXR1cm4gKGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9pdGVtJHVzZXIgPSBpdGVtLnVzZXIpID09PSBudWxsIHx8IF9pdGVtJHVzZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHVzZXIuZnVsbG5hbWUpIHx8ICItIjsKICB9KTsKICB2YXIgYWxyZWFkeUxpa2VkID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIEJvb2xlYW4obGlrZWRJdGVtLnZhbHVlKTsKICB9KTsKICB2YXIgYWxyZWFkeUJvb2ttYXJrZWQgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gQm9vbGVhbihib29rbWFya2VkSXRlbS52YWx1ZSk7CiAgfSk7CiAgdmFyIGJvb2ttYXJrZWRJdGVtID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgdmFyIF91c2VyQm9va21hcmtzJHZhbHVlOwoKICAgIHJldHVybiAoX3VzZXJCb29rbWFya3MkdmFsdWUgPSBfdXNlckJvb2ttYXJrcy52YWx1ZSkgPT09IG51bGwgfHwgX3VzZXJCb29rbWFya3MkdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF91c2VyQm9va21hcmtzJHZhbHVlLmZpbmQoZnVuY3Rpb24gKGIpIHsKICAgICAgcmV0dXJuIGIuYm9va21hcmtJZCA9PT0gaXRlbS5pZDsKICAgIH0pOwogIH0pOwogIHZhciBsaWtlZEl0ZW0gPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICB2YXIgX3VzZXJMaWtlcyR2YWx1ZTsKCiAgICByZXR1cm4gKF91c2VyTGlrZXMkdmFsdWUgPSBfdXNlckxpa2VzLnZhbHVlKSA9PT0gbnVsbCB8fCBfdXNlckxpa2VzJHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdXNlckxpa2VzJHZhbHVlLmZpbmQoZnVuY3Rpb24gKGIpIHsKICAgICAgcmV0dXJuIGIuYm9va21hcmtJZCA9PT0gaXRlbS5pZDsKICAgIH0pOwogIH0pOwoKICB2YXIgX2dldEN1cnJlbnRVc2VyID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHN0b3JlLmdldHRlcnMuX2dldEN1cnJlbnRVc2VyOwogIH0pOwoKICB2YXIgX3VzZXJMaWtlcyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzLl91c2VyTGlrZXM7CiAgfSk7CgogIHZhciBfdXNlckJvb2ttYXJrcyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzLl91c2VyQm9va21hcmtzOwogIH0pOwoKICByZXR1cm4gewogICAgbGlrZUl0ZW06IGxpa2VJdGVtLAogICAgYm9va21hcmtJdGVtOiBib29rbWFya0l0ZW0sCiAgICBjYXRlZ29yeU5hbWU6IGNhdGVnb3J5TmFtZSwKICAgIHVzZXJOYW1lOiB1c2VyTmFtZSwKICAgIGFscmVhZHlCb29rbWFya2VkOiBhbHJlYWR5Qm9va21hcmtlZCwKICAgIGFscmVhZHlMaWtlZDogYWxyZWFkeUxpa2VkLAogICAgYm9va21hcmtlZEl0ZW06IGJvb2ttYXJrZWRJdGVtLAogICAgbGlrZWRJdGVtOiBsaWtlZEl0ZW0sCiAgICBfZ2V0Q3VycmVudFVzZXI6IF9nZXRDdXJyZW50VXNlciwKICAgIF91c2VyQm9va21hcmtzOiBfdXNlckJvb2ttYXJrcywKICAgIF91c2VyTGlrZXM6IF91c2VyTGlrZXMKICB9Owp9"},{"version":3,"sources":["/home/ozcan/software/MEVN-STACK/KablosuzKedi/31-BookLike-app-with-compositionAPI/client/src/composables/BookmarkListItem.js"],"names":["inject","computed","useStore","item","store","appAxios","likeItem","url","alreadyLiked","value","likedItem","id","method","data","userId","_getCurrentUser","bookmarkId","then","user_like_response","bookmarks","_userLikes","filter","b","commit","bookmarkItem","alreadyBookmarked","bookmarkedItem","user_bookmark_response","_userBookmarks","categoryName","category","name","userName","user","fullname","Boolean","find","getters"],"mappings":"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","sourcesContent":["import { inject, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nexport default function(item) {\n  const store = useStore();\n  const appAxios = inject(\"appAxios\");\n\n  const likeItem = () => {\n    appAxios({\n      url: alreadyLiked.value ? `/user_likes/${likedItem.value.id}` : \"/user_likes\",\n      method: alreadyLiked.value ? \"DELETE\" : \"POST\",\n      data: {\n        userId: _getCurrentUser.value.id,\n        bookmarkId: item.id\n      }\n    }).then(user_like_response => {\n      let bookmarks = [..._userLikes.value];\n      if (alreadyLiked.value) {\n        bookmarks = bookmarks.filter(b => b.id !== likedItem.value.id);\n      } else {\n        bookmarks = [...bookmarks, user_like_response.data];\n      }\n      store.commit(\"setLikes\", bookmarks);\n    });\n  };\n  const bookmarkItem = () => {\n    appAxios({\n      url: alreadyBookmarked.value ? `/user_bookmarks/${bookmarkedItem.value.id}` : \"/user_bookmarks\",\n      method: alreadyBookmarked.value ? \"DELETE\" : \"POST\",\n      data: {\n        userId: _getCurrentUser.value.id,\n        bookmarkId: item.id\n      }\n    }).then(user_bookmark_response => {\n      let bookmarks = [..._userBookmarks.value];\n      if (alreadyBookmarked.value) {\n        bookmarks = bookmarks.filter(b => b.id !== bookmarkedItem.value.id);\n      } else {\n        bookmarks = [...bookmarks, user_bookmark_response.data];\n      }\n      store.commit(\"setBookmarks\", bookmarks);\n    });\n  };\n  const categoryName = computed(() => item?.category?.name || \"-\");\n  const userName = computed(() => item?.user?.fullname || \"-\");\n  const alreadyLiked = computed(() => Boolean(likedItem.value));\n  const alreadyBookmarked = computed(() => Boolean(bookmarkedItem.value));\n\n  const bookmarkedItem = computed(() => _userBookmarks.value?.find(b => b.bookmarkId === item.id));\n  const likedItem = computed(() => _userLikes.value?.find(b => b.bookmarkId === item.id));\n  const _getCurrentUser = computed(() => store.getters._getCurrentUser);\n  const _userLikes = computed(() => store.getters._userLikes);\n  const _userBookmarks = computed(() => store.getters._userBookmarks);\n\n  return { likeItem, bookmarkItem, categoryName, userName, alreadyBookmarked, alreadyLiked, bookmarkedItem, likedItem, _getCurrentUser, _userBookmarks, _userLikes };\n}\n"]}]}